{"version":3,"sources":["app/scripts/App.cjsx","app/scripts/components/Page.cjsx","app/scripts/stores/PageStore.coffee"],"names":[],"mappings":"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","file":"_public/js/app.js","sourcesContent":["# @cjsx React.DOM\n\nLocations = ReactRouter.Locations\nLocation = ReactRouter.Location\nPage = require(\"./components/Page\")\nApp = React.createClass(\n  displayName: \"App\"\n  render: ->\n    <Locations hash>\n      <Location path=\"/\" handler={Page} />\n    </Locations>\n)\nmodule.exports = React.renderComponent(<App />, document.getElementById(\"app\"))\n","# @cjsx React.DOM\n\nPageStore = require(\"../stores/PageStore\")\nPage = React.createClass(\n  getInitialState: ->\n\n    lessondict =\n      3: 200\n      6: 400\n      9: 6000\n      12: 8000\n      15: 10000\n      18: 12000\n    \n    @.initTimer()\n    interval = 0\n    lesson = 1\n    treshold = 0\n    capacity = 40\n    days = 0\n    hours = 0\n    xp = 0\n    xp = xp\n    page = PageStore.getPageFromKey(@props.page or \"/\")\n    page : page\n    lesson : lesson\n    lessondict: lessondict\n    capacity : capacity\n    xp : xp\n    days : days\n    hours : hours\n    treshold : treshold\n\n  initTimer:->\n    setInterval(@.updateTick,500)\n\n  lowerCapacity:(val)->\n    if @state.capacity >= val and @canMakeLesson()\n      @setState({capacity : @state.capacity-val})\n      @addPoints(Math.floor(Math.random()*100))\n      @addLesson()\n    else\n      if @canMakeLesson()\n        console.log('take a rest dude!')\n  canMakeLesson:->\n    @checktreshold()\n  \n  addPoints:(num)->\n    @setState({xp: @state.xp+num})\n\n  checktreshold:()->\n    console.log('@state.xp ' +@state.xp+ ' >? ' + @state.treshold)\n    if @state.lessondict[@state.lesson]\n      @state.treshold = @state.lessondict[@state.lesson]\n    if (@state.xp >= @state.treshold) \n      return yes\n    console.log('lesson locked: train dude!')\n    return no\n    \n  addLesson:->\n    #console.log(@state.lessondict[@state.lesson])\n    @setState({lesson : @state.lesson+1})\n\n  acomplishLesson:->\n    @lowerCapacity(Math.floor(Math.random()*20)+10);\n\n  acomplishTraining:->\n    @addPoints(Math.floor(Math.random()*@state.lesson*2.3))\n    \n  addHour:->\n    if @state.hours < 24\n      @setState({hours : @state.hours+1})\n    else\n      @setState({days : @state.days+1})\n      @setState({hours : 0})\n\n\n  updateTick:->\n    @addHour()\n    #console.log(\"tick\")\n    if @state.capacity < 40\n      @setState({capacity : @state.capacity+1})\n\n# Buttons\n\n  lessonControl: ->\n    <button onClick={@acomplishLesson}>\n      make Lesson {@state.lesson}\n    </button>\n\n  trainerControl: ->\n    <p>test</p>\n    <button onClick={@acomplishTraining}>\n      use trainer\n    </button>\n\n  render: ->\n    page = @state.page\n    capacity = @state.capacity\n    xp = @state.xp\n    days = @state.days\n    hours = @state.hours\n    <div id=\"pagebody\">\n      \n        <h1>{page.name}</h1>\n        <img src={page.logo} />\n        <p>{days} days {hours} hours</p>\n        <div>capacity: {capacity}</div>\n        {@.lessonControl()}\n        <p>Points : {xp}</p>\n        {@.trainerControl()}\n      \n\n    </div>\n)\n\nmodule.exports = Page\n ","_pages = \"/\":\n  key: \"/\"\n  name: \"Hello World\"\n  link: \"http://facebook.github.io/react\"\n  logo: \"images/react.png\"\n\nPageStore =\n  getPageFromKey: (key) ->\n    return null  unless _pages.hasOwnProperty(key)\n    _pages[key]\n\n  getAll: ->\n    _pages\n\nmodule.exports = PageStore\n"]}