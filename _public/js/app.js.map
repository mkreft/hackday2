{"version":3,"sources":["app/scripts/App.cjsx","app/scripts/components/Page.cjsx","app/scripts/stores/PageStore.coffee"],"names":[],"mappings":"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","file":"_public/js/app.js","sourcesContent":["# @cjsx React.DOM\n\nLocations = ReactRouter.Locations\nLocation = ReactRouter.Location\nPage = require(\"./components/Page\")\nApp = React.createClass(\n  displayName: \"App\"\n  render: ->\n    <Locations hash>\n      <Location path=\"/\" handler={Page} />\n    </Locations>\n)\nmodule.exports = React.renderComponent(<App />, document.getElementById(\"app\"))\n","# @cjsx React.DOM\n\nPageStore = require(\"../stores/PageStore\")\nPage = React.createClass(\n  getInitialState: ->\n\n    lessondict =\n      3: 150\n      6: 300\n      9: 600\n      12: 850\n      15: 1200\n      18: 1400\n      21: 1600\n      24: 1900\n      27: 2100\n    \n    @.initTimer()\n    interval = 0\n    lesson = 1\n    treshold = 0\n    capacity = 40\n    days = 0\n    lastday = 0\n    hours = 0\n    xp = 0\n    xp = xp\n    output = \"welcome, NEO\"\n    page = PageStore.getPageFromKey(@props.page or \"/\")\n    page : page\n    lesson : lesson\n    lessondict: lessondict\n    capacity : capacity\n    xp : xp\n    days : days\n    hours : hours\n    treshold : treshold\n    output : output\n    lastday : lastday\n\n  initTimer:->\n    setInterval(@.updateTick,300)\n    setInterval(@.moveBar,300)\n  moveBar:()->\n\n    $('.progress-wrap').data('progress-percent', @state.capacity*2.5)\n    moveProgressBar()\n    if @state.capacity >= 15 and @canMakeLesson()\n      @enableLessonBtn()\n  lowerCapacity:(val)->\n    if @state.capacity >= val and @canMakeLesson()\n      @setState({capacity : @state.capacity-val})\n      @moveBar()\n      @addPoints(Math.floor(Math.random()*100))\n      @addLesson()\n      @makeoutput('well done')\n    else\n      if @canMakeLesson()\n        @disableLessonBtn()\n        @makeoutput('take a rest dude!')\n  canMakeLesson:->\n    @checktreshold()\n\n  enableLessonBtn:->\n    $('#lessonbtn').removeClass('disabled');\n    $('#lessonbtn').attr(\"disabled\", false);\n\n\n  disableLessonBtn:->\n    $('#lessonbtn').addClass('disabled');\n    $('#lessonbtn').attr(\"disabled\", true);\n  \n  addPoints:(num)->\n    @setState({xp: @state.xp+num})\n    @setState({lastday: @state.days})\n    #check last day you added points\n\n\n  makeoutput:(out)->\n    @setState({output : out})\n\n\n  checktreshold:()->\n    #@makeoutput('@state.xp ' +@state.xp+ ' >? ' + @state.treshold)\n    if @state.lessondict[@state.lesson]\n      @state.treshold = @state.lessondict[@state.lesson]\n    if (@state.xp >= @state.treshold) \n      return yes\n    @makeoutput('lesson locked: train dude! You need ' +  @state.treshold + \" points\")\n    @disableLessonBtn()\n    #@makeoutput('lesson locked: train dude!')\n    return no\n    \n  addLesson:->\n    #@makeoutput(@state.lessondict[@state.lesson])\n    @setState({lesson : @state.lesson+1})\n\n  acomplishLesson:->\n    @lowerCapacity(Math.floor(Math.random()*20)+10);\n\n  acomplishTraining:->\n    @addPoints(Math.floor(Math.random()*@state.lesson*2.3))\n    \n  addHour:->\n    if @state.hours < 24\n      @setState({hours : @state.hours+1})\n    else\n      @setState({days : @state.days+1})\n      @setState({hours : 0})\n      if @state.days-@state.lastday > 1\n        @makeoutput(\"You're #{@state.days-@state.lastday} day away. Please, come back!\")\n\n\n  updateTick:->\n    @addHour()\n    #@makeoutput(\"tick\")\n    if @state.capacity < 40\n      @setState({capacity : @state.capacity+1})\n\n\n# Buttons\n\n  lessonControl: ->\n    <button className=\"myButton\" id=\"lessonbtn\" onClick={@acomplishLesson}>\n      do Lesson {@state.lesson}\n    </button>\n\n\n\n\n  trainerControl: ->\n    <p>test</p>\n    <button className=\"myButton\" onClick={@acomplishTraining}>\n      review learned stuff\n    </button>\n  # progressbar:->\n\n  #   <div class=\"progress progress-bar\"/></div>\n  #   <div id=\"my-progressbar\">\n\n  render: ->\n    page = @state.page\n    capacity = @state.capacity\n    xp = @state.xp\n    days = @state.days\n    hours = @state.hours\n    output = @state.output\n    <div id=\"pagebody\">\n    <img id=\"logo\" src={page.logo} />\n      <img id=\"logo2\" src={page.logo2} />\n      <h1>{page.name}</h1>\n      <div id=\"userconsole\">\n          {output}\n      </div>\n       <h2>{days} days {hours} hours</h2>\n      <div className=\"progress-wrap progress\" data-progress-percent={capacity*2.5}><div className=\"progress progress-bar\"/></div>\n      <h2>points : {xp}</h2>\n      {@.lessonControl()}\n      {@.trainerControl()}   \n    </div>\n)\n\nmodule.exports = Page","_pages = \"/\":\n  key: \"/\"\n  name: \"Learn Behavior Guide\"\n  link: \"http://facebook.github.io/react\"\n  logo: \"images/Babbel_logo.png\"\n  logo2: \"images/react.png\"\n\nPageStore =\n  getPageFromKey: (key) ->\n    return null  unless _pages.hasOwnProperty(key)\n    _pages[key]\n\n  getAll: ->\n    _pages\n\nmodule.exports = PageStore\n"]}